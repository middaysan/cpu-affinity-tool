### CPU Processor Scheme Configuration Instruction (CPU Presets) v2

This project uses a JSON file to describe processor architecture. The new version (v2) allows for automatic calculation of thread indices and easy description of complex multi-chiplet systems.

#### Configuration File
Path: `assets/cpu_presets.json`
The file is compiled into the application. Rebuilding (`cargo build`) is required after making changes.

---

#### JSON Structure

```json
{
  "schemes": [
    {
      "name": "Preset Name",
      "match": {
        "keywords": ["intel", "ultra"],
        "total_threads": 24
      },
      "layout": [
        {
          "group_name": "Performance Cores",
          "type": "performance",
          "label_prefix": "P",
          "cores": 8,
          "threads_per_core": 2
        }
      ]
    }
  ]
}
```

---

#### Matching Logic (`match`)

The program selects the first preset from the `schemes` array that satisfies the following conditions:
- `keywords`: **All** words from the array must be present in the CPU model name (case-insensitive).
- `total_threads`: (Optional) The total number of threads in the system must match.

---

#### Topology Description (`layout`)

The `layout` array describes groups of cores in order. Thread indices (0, 1, 2...) are assigned automatically from top to bottom.

**Group Fields:**

1.  **`type`**: Core type (affects color in the UI):
    - `performance`: Blue (P-cores).
    - `efficient`: Green (E-cores).
    - `ccd`: Orange (AMD chiplets).
2.  **`threads_per_core`**: Number of threads per physical core:
    - `2`: Standard for P-cores and AMD (with Hyper-Threading/SMT).
    - `1`: For Intel E-cores or new Intel P-cores without HT (Arrow Lake).
3.  **`cores`**: Number of physical cores in this group.
4.  **`label_prefix`**: Letter for buttons (P0, E1, C2...).

**Fields for Repeaters (AMD Threadripper/EPYC):**

If you need to describe many identical blocks (CCDs), use:
- **`repeat`**: How many times to repeat the group.
- **`group_name_pattern`**: Name with a variable `{i}` (e.g., `"CCD {i}"`).
- **`cores_per_group`**: Number of physical cores in one block.

---

#### Examples

**1. Intel Core i5-13600K (6P + 8E = 20 threads)**
```json
{
  "group_name": "P-Cores",
  "type": "performance",
  "cores": 6,
  "threads_per_core": 2
},
{
  "group_name": "E-Cores",
  "type": "efficient",
  "cores": 8,
  "threads_per_core": 1
}
```

**2. AMD Ryzen 9 5950X (2 CCDs with 8 cores each = 32 threads)**
```json
{
  "group_name_pattern": "CCD {i}",
  "type": "ccd",
  "repeat": 2,
  "cores_per_group": 8,
  "threads_per_core": 2
}
```

**3. Intel Core Ultra 9 285K (Arrow Lake - no Hyper-Threading)**
```json
{
  "group_name": "P-Cores",
  "type": "performance",
  "cores": 8,
  "threads_per_core": 1 // HT disabled at the architectural level
},
{
  "group_name": "E-Cores",
  "type": "efficient",
  "cores": 16,
  "threads_per_core": 1
}
```
